{"uid":"6c8d51bca80d7e20","name":"test_edit_knowledge_base","fullName":"tests.test_knowledge_base.TestKnowledgeBase#test_edit_knowledge_base","historyId":"b7b2b95c07587fbf40dcb9b9b010e79d","time":{"start":1747743699402,"stop":1747743699402,"duration":0},"description":"验证用户能否成功编辑现有知识库","descriptionHtml":"<p>验证用户能否成功编辑现有知识库</p>\n","status":"broken","statusMessage":"AttributeError: 'LoginPage' object has no attribute 'getScreenShot'","statusTrace":"self = <page_objects.login_page.LoginPage object at 0x00000223877FD310>, username = '1062174229@qq.com'\npassword = '85516d29504949bc'\n\n    def login(self, username, password):\n        try:\n            logging.info('开始登录流程')\n            self.open()\n            logging.info(f'输入用户名: {username}')\n            self.input_text(self.USERNAME_INPUT, username)\n            logging.info('输入密码')\n            self.input_text(self.PASSWORD_INPUT, password)\n            logging.info('点击登录按钮')\n            self.click(self.LOGIN_BUTTON)\n            logging.info('等待页面加载完成')\n            self.driver.implicitly_wait(10)\n>           if self.is_element_visible(self.TITLE_MESSAGE):\nE           AttributeError: 'LoginPage' object has no attribute 'is_element_visible'\n\npage_objects\\login_page.py:29: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <aiportal.tests.test_knowledge_base.TestKnowledgeBase object at 0x00000223877AFB50>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"221c5ec3d4450ae93c83a9296b795473\")>\nconfig = <configparser.ConfigParser object at 0x00000223877AFDC0>\n\n    @pytest.fixture(autouse=True)\n    def setup(self, driver, config):\n        \"\"\"前置条件：用户已登录\"\"\"\n        with allure.step(\"登录系统\"):\n            login_page = LoginPage(driver)\n>           result = login_page.login(\n                config['ENV']['username'],\n                config['ENV']['password']\n            )\n\ntests\\test_knowledge_base.py:15: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.login_page.LoginPage object at 0x00000223877FD310>, username = '1062174229@qq.com'\npassword = '85516d29504949bc'\n\n    def login(self, username, password):\n        try:\n            logging.info('开始登录流程')\n            self.open()\n            logging.info(f'输入用户名: {username}')\n            self.input_text(self.USERNAME_INPUT, username)\n            logging.info('输入密码')\n            self.input_text(self.PASSWORD_INPUT, password)\n            logging.info('点击登录按钮')\n            self.click(self.LOGIN_BUTTON)\n            logging.info('等待页面加载完成')\n            self.driver.implicitly_wait(10)\n            if self.is_element_visible(self.TITLE_MESSAGE):\n                self.click(self.TITLE_MESSAGE)\n                logging.info('登录流程执行完成')\n                return True\n            else:\n                logging.error('未找到登录成功后的页面元素')\n                self.getScreenShot('登入失敗')\n                return False\n        except NoSuchElementException as e:\n            logging.error(f'登入失敗: {str(e)}')\n            self.getScreenShot('登入失敗')\n            return False\n        except Exception as e:\n            logging.error(f'发生未预期的错误: {str(e)}')\n>           self.getScreenShot('未知错误')\nE           AttributeError: 'LoginPage' object has no attribute 'getScreenShot'\n\npage_objects\\login_page.py:43: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"config","time":{"start":1747743689006,"stop":1747743689006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"hasContent":false},{"name":"driver","time":{"start":1747743699402,"stop":1747743700787,"duration":1385},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"hasContent":false},{"name":"setup","time":{"start":1747743700787,"stop":1747743703666,"duration":2879},"status":"broken","statusMessage":"AttributeError: 'LoginPage' object has no attribute 'getScreenShot'\n","statusTrace":"  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\_pytest\\setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\_pytest\\fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\_pytest\\fixtures.py\", line 898, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"C:\\Users\\User\\File\\Auto\\UI\\aiportal\\tests\\test_knowledge_base.py\", line 15, in setup\n    result = login_page.login(\n  File \"C:\\Users\\User\\File\\Auto\\UI\\aiportal\\page_objects\\login_page.py\", line 43, in login\n    self.getScreenShot('未知错误')\n","steps":[{"name":"登录系统","time":{"start":1747743700787,"stop":1747743703665,"duration":2878},"status":"broken","statusMessage":"AttributeError: 'LoginPage' object has no attribute 'getScreenShot'\n","statusTrace":"  File \"C:\\Users\\User\\File\\Auto\\UI\\aiportal\\tests\\test_knowledge_base.py\", line 15, in setup\n    result = login_page.login(\n  File \"C:\\Users\\User\\File\\Auto\\UI\\aiportal\\page_objects\\login_page.py\", line 43, in login\n    self.getScreenShot('未知错误')\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"description":"验证用户能否成功编辑现有知识库","status":"broken","statusMessage":"AttributeError: 'LoginPage' object has no attribute 'getScreenShot'","statusTrace":"self = <page_objects.login_page.LoginPage object at 0x00000223877FD310>, username = '1062174229@qq.com'\npassword = '85516d29504949bc'\n\n    def login(self, username, password):\n        try:\n            logging.info('开始登录流程')\n            self.open()\n            logging.info(f'输入用户名: {username}')\n            self.input_text(self.USERNAME_INPUT, username)\n            logging.info('输入密码')\n            self.input_text(self.PASSWORD_INPUT, password)\n            logging.info('点击登录按钮')\n            self.click(self.LOGIN_BUTTON)\n            logging.info('等待页面加载完成')\n            self.driver.implicitly_wait(10)\n>           if self.is_element_visible(self.TITLE_MESSAGE):\nE           AttributeError: 'LoginPage' object has no attribute 'is_element_visible'\n\npage_objects\\login_page.py:29: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <aiportal.tests.test_knowledge_base.TestKnowledgeBase object at 0x00000223877AFB50>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"221c5ec3d4450ae93c83a9296b795473\")>\nconfig = <configparser.ConfigParser object at 0x00000223877AFDC0>\n\n    @pytest.fixture(autouse=True)\n    def setup(self, driver, config):\n        \"\"\"前置条件：用户已登录\"\"\"\n        with allure.step(\"登录系统\"):\n            login_page = LoginPage(driver)\n>           result = login_page.login(\n                config['ENV']['username'],\n                config['ENV']['password']\n            )\n\ntests\\test_knowledge_base.py:15: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.login_page.LoginPage object at 0x00000223877FD310>, username = '1062174229@qq.com'\npassword = '85516d29504949bc'\n\n    def login(self, username, password):\n        try:\n            logging.info('开始登录流程')\n            self.open()\n            logging.info(f'输入用户名: {username}')\n            self.input_text(self.USERNAME_INPUT, username)\n            logging.info('输入密码')\n            self.input_text(self.PASSWORD_INPUT, password)\n            logging.info('点击登录按钮')\n            self.click(self.LOGIN_BUTTON)\n            logging.info('等待页面加载完成')\n            self.driver.implicitly_wait(10)\n            if self.is_element_visible(self.TITLE_MESSAGE):\n                self.click(self.TITLE_MESSAGE)\n                logging.info('登录流程执行完成')\n                return True\n            else:\n                logging.error('未找到登录成功后的页面元素')\n                self.getScreenShot('登入失敗')\n                return False\n        except NoSuchElementException as e:\n            logging.error(f'登入失敗: {str(e)}')\n            self.getScreenShot('登入失敗')\n            return False\n        except Exception as e:\n            logging.error(f'发生未预期的错误: {str(e)}')\n>           self.getScreenShot('未知错误')\nE           AttributeError: 'LoginPage' object has no attribute 'getScreenShot'\n\npage_objects\\login_page.py:43: AttributeError","steps":[],"attachments":[{"uid":"29be52c379e01614","name":"log","source":"29be52c379e01614.txt","type":"text/plain","size":437}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"attachmentStep":false,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1747743703678,"stop":1747743705845,"duration":2167},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"feature","value":"知识库管理"},{"name":"story","value":"编辑知识库"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_knowledge_base"},{"name":"subSuite","value":"TestKnowledgeBase"},{"name":"host","value":"DESKTOP-CCVI922"},{"name":"thread","value":"43488-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_knowledge_base"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"6c8d51bca80d7e20.json","parameterValues":[]}